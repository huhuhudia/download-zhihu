8正则表达式匹配汉字知乎,本文全文转载自正则表达式匹配汉字，转载前已经获得了作者，也就是我，的许可。追求更好的阅读体验请看原文。一个可能有2年历史的正则表达式在谷歌搜索正则表达式匹配汉字的时候，前正则表达式匹配汉字.本文全文转载自正则表达式匹配汉字，转载前已经获得了作者，也就是我，的许可。追求更好的阅读体验请看原文。一个可能有2年历史的正则表达式在谷歌搜索正则表达式匹配汉字的时候，前4知乎专栏6知乎.这个系统不支持该功能。内存不足,初始化失败！加载失败！拒绝访问。无法,缺少对象,黄俊亮,正则表达式匹配汉字,知乎.前端外刊评论3首发于前端外刊评论2写文章更多2正则表达式匹配汉字4正则表达式匹配汉字1黄俊亮1黄俊亮3黄俊亮1关注他2人赞了该文章本文全文转载自.正则表达式匹配汉字，转载前已经获得了作者，也就是我，的许可。追求更好的阅读体验请看原文。一个可能有2年历史的正则表达式2在谷歌搜索正则表达式匹配汉字的时候，前几条结果全都是4没有人怀疑这个正则表达式有什么问题，那么在2年的今天，让我们站在6的肩膀上，放飞一下自我。汉文是汉语日本语朝鲜语韩国语的书写系统中的一种文字，越南语在早期也曾在书写系统中使用汉文1汉字是汉文的基本单元。各国都对汉字提出了自己的编码标准，将这些标准加总在一起进行统一编码，力求实现原标准与编码之间的无损转换。从语义抽象字形，具体字形三个维度2出发，把不同编码标准里起源相同本义相同形状一样或稍异的汉字赋予相同编码，这些被编码的字符称为中日韩统一表意文字下文我们提到的汉字，如果不加说明，均指代中日韩统一表意文字。如果把它们全部列举出来写成正则表达式，那么就是技术上完整的匹配汉字的正则表达式了。正则表达式4的意思是匹配所有从4到9的字符。这一段区域对应的是1就收录进来的中日韩统一表意文字区块，在3加入扩展区以前，这个正则表达式确实给出了所有汉字的编码。换言之，从1年到1年，这个正则表达式确实是正确的，想必这个表达式已经有2年历史了。匹配所有统一表意文字2然而时光飞逝，在2年6月发布了1版本。在这2年间，添加了许多汉字。比如8添加的1号化学元素鿏麦，其码点是9不在这个正则表达式范围中。而如果我们期望程序里的4可以与时俱进匹配最新的标准，显然是不现实的事情。因此，我们需要换一个思路，写一个无需维护的正则表达式其中是2定义的.正则表达式标志，意味着将表达式作为码点序列。是正在提案阶段的.正则表达式属性转义，它赋予了我们根据字符的属性数据3构造表达式的能力。是字符的一个二值属性，对于汉字，其取值为，否则为。因此匹配所有满足的字符，而它的底层实现由运行时所依赖的版本决定，开发者不需要知道汉字的具体码点范围。容易混淆的其他属性转义表达式2这个表达式匹配所有满足的字符。我们先看一下4对这个属性的解释4这个属性表明该字符属于表意文字或者与汉语书写相关的其他表意文字如西夏文女书，这个属性粗略地定义了中文字符的分类。我们查看.字符属性列表可以知道，在1中，属性为的字符有3它们囊括了所有统一表意文字西夏文及其组件女书中日韩兼容性字符苏州码子以及日本语中的书信结尾标志。使用来匹配汉字会过于宽泛。一是包含了西夏文女书，二是只用于编码转换用的兼容字符也纳入其中。属性5用来筛选满足下面条件的一组字符1字符的书写形式具有共同的图像特征与文字流变2该组字符全部用来表达某个书写系统内的文本信息我们查看.可以知道，满足的字符有2它们囊括了所有统一表意文字中日韩兼容性字符苏州码子以及字典常用的部首。从前面汉文与汉字的关系我们可以知道，匹配的是汉文作为一个字符集里面的所有字符，因此它包括了部首等字符，这些字符要么当它们独立存在的时候没有语言意义部首独立存在是一个符号，要么无法独立存在依赖于所修饰的汉字。所以汉字是汉文的一个单元，汉文除了包含汉字以外，还包括这些符号数字修饰符。因此使用来匹配汉字是混淆了汉文与汉字的概念范围。浏览器兼容性支持2截至2年1月，只有6支持正则表达式属性转义。对于其他浏览器，我们需要用转译插件.的底层将带有属性转义的正则表达式转为码点正则表达式或者5的正则表达式。转译结果的在线演示可以在.这里查看，用户可以自己在上面转译其他的属性转义正则表达式。我们在这里列举转译成码点正则表达式的结果1从上面这个正则表达式可以知道，转译的结果严格跟1中属性为的字符3严格对应。因此转译是正确的。该插件还可以使用2配置将表达式转成5的传统的以字符的1表示为序列的字符串，这里不再赘述。元素的属性在前端技术中，除了会用到正则表达式，里元素的属性也会用到正则表达式。与相比，不支持设置正则表达式的标志位，因此标准中强制规定了元素的属性需要施加标志6目前只有5遵循了这一标准，其他的浏览器暂未支持。在.三大前端框架中，提供了近似于的指令。目前尚未施加标志7的仍未施加。在大部分情况，是否施加标志不会对正则表达式产生语义区别。主要的差别在于，在使用1表示码点字符情形，正则表达式1代表匹配一万次，匹配字符1一次.只匹配平面的字符，匹配所有平面的字符。由于属性转义正则表达式依赖于标识位，因此下面的用法目前只能在下使用因此，如果需要兼容其他浏览器，可以使用转译插件的底层库.在层转换正则表达式，再把转换结果输送到模版中。总结2是错的，不要用二十年前的正则表达式了是正确的，不需要维护，匹配所有汉字。这里是属性转义正则表达式。和匹配了除了汉字以外的其他一些字符，在汉字匹配正则表达式这个需求下，是错的。目前只有支持属性转义正则表达式。对其他环境，使用和进行优雅降级。参考资料2第六章第一节，书写系统.第十八章第一节，东亚.字符属性列表.第2版的属性说明.第2版.标准中元素的属性.给施加标志.